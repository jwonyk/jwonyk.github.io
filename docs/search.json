[
  {
    "objectID": "resources.html",
    "href": "resources.html",
    "title": "All my favorite Resources!",
    "section": "",
    "text": "This is an h1 element.\n\n\nThis is an h1 element with the title class\n\n\nThis paragraph is orange\n\n\nThis text is centered\n\n\nThis text is both centered and orange\n\n\nHere’s where I’m describing something fun that I enjoy doing.\nHere’s a full line\n\nHere’s one line\nHere’s another line\n\n\nThis is centered"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "Here is where I describe what I do professionally"
  },
  {
    "objectID": "about.html#what-i-do-for-work",
    "href": "about.html#what-i-do-for-work",
    "title": "About",
    "section": "",
    "text": "Here is where I describe what I do professionally"
  },
  {
    "objectID": "about.html#what-i-do-for-fun",
    "href": "about.html#what-i-do-for-fun",
    "title": "About",
    "section": "What I do for fun",
    "text": "What I do for fun\nGive the people what they want! Something fun!"
  },
  {
    "objectID": "posts/biodiversity-intactness-index-change/index.html",
    "href": "posts/biodiversity-intactness-index-change/index.html",
    "title": "Biodiversity Intactness Index Change in the Phoenix Subdivision (2017–2020)",
    "section": "",
    "text": "GitHub repository: https://github.com/jwonyk/biodiversity-intactness-index-change"
  },
  {
    "objectID": "posts/biodiversity-intactness-index-change/index.html#about",
    "href": "posts/biodiversity-intactness-index-change/index.html#about",
    "title": "Biodiversity Intactness Index Change in the Phoenix Subdivision (2017–2020)",
    "section": "About",
    "text": "About\n\nPurpose\nThis repository contains the analysis for a project examining changes in the Biodiversity Intactness Index (BII) in the Phoenix subdivision of Maricopa County, AZ, from 2017 to 2020. Using 100 m BII data, the project explores how rapid urban growth may be affecting local biodiversity.\n\n\nHighlights\n\nExtracting and clipping BII rasters for 2017 and 2020 to the Phoenix subdivision boundary.\nCalculating the percentage of the subdivision area with BII ≥ 0.75 for both years.\nMapping areas that lost high BII values (≥ 0.75) between 2017 and 2020.\nSituating the Phoenix subdivision within its broader geographic and urban context using additional vector/raster data and basemaps.\n\n\n\nAbout the data\n\nBiodiversity Intactness Index (BII): BII data are taken from the io-biodiversity collection on the Microsoft Planetary Computer, which provides global 100 m BII projections for 2017–2020. For this project, the 2017 and 2020 rasters covering the Phoenix subdivision (bounding box: [-112.826843, 32.974108, -111.184387, 33.863574]) are loaded and then clipped to the Phoenix subdivision boundary to calculate metrics such as the percentage of area with BII ≥ 0.75.\nPhoenix subdivision boundary: The Phoenix subdivision boundary comes from the Census County Subdivision TIGER/Line shapefiles for Arizona. This polygon defines the analysis area, is used to clip the BII rasters, and provides geographic context for mapping within Maricopa County and the surrounding region.\n\n\n\nReferences\n\nMicrosoft Planetary Computer, Biodiversity Intactness Index (BII) Time Series, io-biodiversity Collection, 2017–2020 [data file]. Available from the Microsoft Planetary Computer STAC catalog. [Accessed: Dec. 1, 2025]\nU.S. Census Bureau, County Subdivision Shapefiles, Arizona (TIGER/Line) [data file]. Available from the U.S. Census Bureau TIGER/Line shapefile download portal. [Accessed: Dec. 1, 2025]"
  },
  {
    "objectID": "posts/biodiversity-intactness-index-change/index.html#setup",
    "href": "posts/biodiversity-intactness-index-change/index.html#setup",
    "title": "Biodiversity Intactness Index Change in the Phoenix Subdivision (2017–2020)",
    "section": "Setup",
    "text": "Setup\nLoad required Python packages and configure the workspace.\n\n# Load in all necessary packages\nimport geopandas as gpd\nimport xarray as xr\nimport rioxarray as rioxr\n\nimport matplotlib.pyplot as plt\nimport matplotlib.patches as mpatches\nfrom matplotlib.colors import ListedColormap\n\nimport numpy as np\nimport contextily as ctx\nfrom shapely.geometry import box\n\nfrom pystac_client import Client  # To access STAC catalogs\nimport planetary_computer as pc  # To sign items from the MPC STAC catalog"
  },
  {
    "objectID": "posts/biodiversity-intactness-index-change/index.html#read-in-data",
    "href": "posts/biodiversity-intactness-index-change/index.html#read-in-data",
    "title": "Biodiversity Intactness Index Change in the Phoenix Subdivision (2017–2020)",
    "section": "Read in Data",
    "text": "Read in Data\nImport the Census TIGER/Line shapefile and filter to the Phoenix subdivision.\n\n# Load all county subdivisions for AZ\nsubdivisions = gpd.read_file('data/tl_2020_04_cousub/tl_2020_04_cousub.shp')  \n\n# Filter to Phoenix subdivision\nphoenix_subdivisions = subdivisions[subdivisions['NAME'] == 'Phoenix'].to_crs(epsg = 3857)"
  },
  {
    "objectID": "posts/biodiversity-intactness-index-change/index.html#access",
    "href": "posts/biodiversity-intactness-index-change/index.html#access",
    "title": "Biodiversity Intactness Index Change in the Phoenix Subdivision (2017–2020)",
    "section": "Access",
    "text": "Access\nQuery the Microsoft Planetary Computer STAC API for 2017 and 2020 BII rasters. We use the Client function from the pystac_client package to access the catalog:\n\n# Set bounding box\nbbox = [-112.826843, 32.974108, -111.184387, 33.863574]\n\n# Access STAC catalog\ncatalog = Client.open(\"https://planetarycomputer.microsoft.com/api/stac/v1\")\n\n# Search BII raster for 2017 & 2020\nsearch_2017 = catalog.search(\n    collections = ['io-biodiversity'],\n    bbox = bbox,\n    datetime = '2017-01-01/2017-12-31')\n\nsearch_2020 = catalog.search(\n    collections = ['io-biodiversity'],\n    bbox = bbox,\n    datetime = '2020-01-01/2020-12-31')\n\n# Extract matching item from each search\nitem_2017 = list(search_2017.items())[0]\nitem_2020 = list(search_2020.items())[0]\n\n# Find the asset key\nitem_2017.assets.keys(), item_2020.assets.keys()\n\n(dict_keys(['data', 'tilejson', 'rendered_preview']),\n dict_keys(['data', 'tilejson', 'rendered_preview']))"
  },
  {
    "objectID": "posts/biodiversity-intactness-index-change/index.html#read-in-bii-rasters",
    "href": "posts/biodiversity-intactness-index-change/index.html#read-in-bii-rasters",
    "title": "Biodiversity Intactness Index Change in the Phoenix Subdivision (2017–2020)",
    "section": "Read in BII Rasters",
    "text": "Read in BII Rasters\nOpen the raster assets into xarray objects and inspect dimensions and CRS.\n\n# Access the GeoTIFF from STAC\nasset_2017 = pc.sign(item_2017.assets['data'])\nasset_2020 = pc.sign(item_2020.assets['data'])\n\n# Read in raster to xarray DataArrays to clip and mask\nbii_2017 = rioxr.open_rasterio(asset_2017.href).squeeze()\nbii_2020 = rioxr.open_rasterio(asset_2020.href).squeeze()\n\n# Inspect the data\nbii_2017, bii_2017.shape, bii_2017.rio.crs\n\n(&lt;xarray.DataArray (y: 7992, x: 7992)&gt; Size: 255MB\n [63872064 values with dtype=float32]\n Coordinates:\n     band         int64 8B 1\n   * x            (x) float64 64kB -115.4 -115.4 -115.4 ... -108.2 -108.2 -108.2\n   * y            (y) float64 64kB 34.74 34.74 34.74 34.74 ... 27.57 27.57 27.57\n     spatial_ref  int64 8B 0\n Attributes:\n     AREA_OR_POINT:  Area\n     scale_factor:   1.0\n     add_offset:     0.0,\n (7992, 7992),\n CRS.from_wkt('GEOGCS[\"WGS 84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS 84\",6378137,298.257223563,AUTHORITY[\"EPSG\",\"7030\"]],AUTHORITY[\"EPSG\",\"6326\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT[\"degree\",0.0174532925199433,AUTHORITY[\"EPSG\",\"9122\"]],AXIS[\"Latitude\",NORTH],AXIS[\"Longitude\",EAST],AUTHORITY[\"EPSG\",\"4326\"]]'))"
  },
  {
    "objectID": "posts/biodiversity-intactness-index-change/index.html#clip-rasters-to-phoenix-subdivision",
    "href": "posts/biodiversity-intactness-index-change/index.html#clip-rasters-to-phoenix-subdivision",
    "title": "Biodiversity Intactness Index Change in the Phoenix Subdivision (2017–2020)",
    "section": "Clip Rasters to Phoenix Subdivision",
    "text": "Clip Rasters to Phoenix Subdivision\nMatch CRS between raster and vector data, then clip the rasters to the subdivision boundary.\n\n# Match CRS before clipping\nphoenix_subdivisions_projection = phoenix_subdivisions.to_crs(bii_2017.rio.crs)\n\n# Clip the Phoenix subdivision to reduce size and keep only pixels inside\nbii_2017_clip = (bii_2017.rio.clip_box(*phoenix_subdivisions_projection.total_bounds)\n                         .rio.clip(phoenix_subdivisions_projection.geometry, phoenix_subdivisions_projection.crs))\nbii_2020_clip = (bii_2020.rio.clip_box(*phoenix_subdivisions_projection.total_bounds)\n                         .rio.clip(phoenix_subdivisions_projection.geometry, phoenix_subdivisions_projection.crs))"
  },
  {
    "objectID": "posts/biodiversity-intactness-index-change/index.html#mapping-phoenix-subdivision",
    "href": "posts/biodiversity-intactness-index-change/index.html#mapping-phoenix-subdivision",
    "title": "Biodiversity Intactness Index Change in the Phoenix Subdivision (2017–2020)",
    "section": "Mapping Phoenix Subdivision",
    "text": "Mapping Phoenix Subdivision\nPlot the Phoenix subdivision boundary over a basemap\n\n# Create figure\nfig, ax = plt.subplots(1, 1, figsize = (7, 5))\n\n# Reproject to Web Mercator for contextily\nphoenix_subdivisions_web = phoenix_subdivisions_projection.to_crs(epsg = 3857)\n\n# Plot the subdivision boundary\nphoenix_subdivisions_web.boundary.plot(ax = ax, edgecolor = 'red', linewidth = 5)\n\n# Add basemap\nctx.add_basemap(ax, source = ctx.providers.OpenStreetMap.Mapnik)\n\n# Add title and clean ticks\nax.set_title('Phoenix Subdivision', fontsize = 20, fontweight = 'bold')\nax.set_xticks([])\nax.set_yticks([])\n\n# Improve layout so elements do not overlap\nplt.tight_layout()\nplt.show()"
  },
  {
    "objectID": "posts/biodiversity-intactness-index-change/index.html#calculate-percentage-of-area-with-bii",
    "href": "posts/biodiversity-intactness-index-change/index.html#calculate-percentage-of-area-with-bii",
    "title": "Biodiversity Intactness Index Change in the Phoenix Subdivision (2017–2020)",
    "section": "Calculate Percentage of Area With BII",
    "text": "Calculate Percentage of Area With BII\nCompute the proportion of valid pixels in 2017 and 2020 exceeding the threshold (0.75)\n\n# Threshold representing high biodiversity intactness\nthreshold = 0.75\n\n# Boolean masks identify pixels meeting the threshold\nhigh_2017 = bii_2017_clip &gt;= threshold\nhigh_2020 = bii_2020_clip &gt;= threshold\n\n# Identify pixels inside the polygon with valid raster data\nvalid_2017 = ~bii_2017_clip.isnull()\nvalid_2020 = ~bii_2020_clip.isnull()\n\n# Count qualifying pixels and total valid pixels\nn_high_2017 = (high_2017 & valid_2017).sum().item()\nn_total_2017 = valid_2017.sum().item()\n\nn_high_2020 = (high_2020 & valid_2020).sum().item()\nn_total_2020 = valid_2020.sum().item()\n\n# Compute percentages\npct_2017 = (n_high_2017 / n_total_2017) * 100\npct_2020 = (n_high_2020 / n_total_2020) * 100\n\nprint(f\"Percentage of of area of the Phoenix subdivision with a BII of at least 0.75 in 2017: {pct_2017:.2f}\")\nprint(f\"Percentage of of area of the Phoenix subdivision with a BII of at least 0.75 in 2020: {pct_2020:.2f}\")\n\nPercentage of of area of the Phoenix subdivision with a BII of at least 0.75 in 2017: 7.13\nPercentage of of area of the Phoenix subdivision with a BII of at least 0.75 in 2020: 6.49"
  },
  {
    "objectID": "posts/biodiversity-intactness-index-change/index.html#result-summary",
    "href": "posts/biodiversity-intactness-index-change/index.html#result-summary",
    "title": "Biodiversity Intactness Index Change in the Phoenix Subdivision (2017–2020)",
    "section": "Result Summary",
    "text": "Result Summary\nUsing a threshold (BII ≥ 0.75) to test the high biodiversity intactness, the result in shown in the followings: 7.13% of the Phoenix subdivision met this criteria, but it dropped in 2020 to only 6.49%. The degradation over the three-year period shows the portion of subdivision with ongoing pressure on habitats."
  },
  {
    "objectID": "posts/biodiversity-intactness-index-change/index.html#identify-areas-that-lost-high-bii",
    "href": "posts/biodiversity-intactness-index-change/index.html#identify-areas-that-lost-high-bii",
    "title": "Biodiversity Intactness Index Change in the Phoenix Subdivision (2017–2020)",
    "section": "Identify Areas That Lost High BII",
    "text": "Identify Areas That Lost High BII\nCreate a Boolean mask showing pixels that were BII ≥0.75 in 2017 but not in 2020.\n\n# Identify pixels that no longer meet the threshold in 2020\nlost_high_bii = (high_2017 & valid_2017) & ~(high_2020 & valid_2020)"
  },
  {
    "objectID": "posts/biodiversity-intactness-index-change/index.html#mapping-lost-high-bii-areas",
    "href": "posts/biodiversity-intactness-index-change/index.html#mapping-lost-high-bii-areas",
    "title": "Biodiversity Intactness Index Change in the Phoenix Subdivision (2017–2020)",
    "section": "Mapping Lost High-BII Areas",
    "text": "Mapping Lost High-BII Areas\nOverlay lost-BII pixels (in red) on the 2020 BII raster.\n\n# Create figure\nfig, ax = plt.subplots(figsize = (9, 9))\n\n# Ensure `lost_high_bii` is float mask\nlost_high_bii_mask = lost_high_bii.where(lost_high_bii, other = np.nan)\n\n# ---------------------------------------------------------------\n# Plot BII 2020 as the background \n# ---------------------------------------------------------------\n\nbii_plot = bii_2020_clip.plot(ax = ax, cmap = 'Greens',\n                              vmin = 0.1, vmax = 0.88,\n                              add_colorbar = False)\n\n# ---------------------------------------------------------------\n# Overlay lost high-BII areas in red (fixed red color \n# ---------------------------------------------------------------\n\nlost_high_bii_mask.plot(ax = ax, cmap = ListedColormap(['red']), \n                   alpha = 1.0, add_colorbar = False)\n\n# ---------------------------------------------------------------\n# Add Phoenix subdivision outline\n# ---------------------------------------------------------------\n\nphoenix_subdivisions_projection.boundary.plot(ax = ax, color = 'black', linewidth = 1)\n\n# ---------------------------------------------------------------\n#  Add title\n# ---------------------------------------------------------------\n\nax.set_title('Biodiversity Intactness Index (BII)\\nPhoenix Subdivision',\n             fontsize = 16, fontweight = 'bold', pad = 20)\n\nax.axis('off')\n\n# ---------------------------------------------------------------\n# Add colorbar for BII 2020\n# ---------------------------------------------------------------\n\ncbar = plt.colorbar(bii_plot, ax = ax, orientation = 'horizontal', \n                    fraction = 0.046, pad = 0.07)\ncbar.set_label('BII for 2020', fontsize = 12)\n\n# ---------------------------------------------------------------\n# Add red legend entry for lost high-BII pixels\n# ---------------------------------------------------------------\n\nlost_patch = mpatches.Patch(color = 'red', \n                            label = 'Area with BII ≥ 0.75 lost from 2017 to 2020')\n\nax.legend(handles = [lost_patch], \n          loc = 'lower center', \n          bbox_to_anchor = (0.5, -0.12))\n\nplt.show()"
  },
  {
    "objectID": "posts/biodiversity-intactness-index-change/index.html#interpretation-of-bii-change-2017---2020",
    "href": "posts/biodiversity-intactness-index-change/index.html#interpretation-of-bii-change-2017---2020",
    "title": "Biodiversity Intactness Index Change in the Phoenix Subdivision (2017–2020)",
    "section": "Interpretation of BII Change (2017 - 2020)",
    "text": "Interpretation of BII Change (2017 - 2020)\nThe map illutrates how biodiversity conditions changed in the Phoenix subdivision between 2017 and 2020. The map shows 2020 BII values in green and highlighted with red in the areas where there has been high biodiversity intactness (BII ≥ 0.75) which no longer meet that threshold. There are larger amount of concentrations of biodiversity loss in the northeastern part of the subdivision while smaller pockets of decline is occuring in the southern and southeastern regions. The urbanization in the area may be correlated reducing local wild habitat and loss of biodiversity."
  },
  {
    "objectID": "posts/crop-water-gamma/index.html",
    "href": "posts/crop-water-gamma/index.html",
    "title": "How Crop Type and Climate Zone Influence Agricultural Water Use in California",
    "section": "",
    "text": "California produces a large portion of the nation’s fruits, nuts, and vegetables. Irrigated agriculture dominates water use in the state, and the amount of water applied varies by crop type, hydrologic region, and year.1 The goal of this analysis is to understand how applied water per acre varies across crop types, hydrologic regions, and years using statewide data from 2016 - 2020.\nThis dataset provides annual estimates of:\n\nApplied Water per Acre\nHydrologic Regions\n20 Crop Categories\nYears 2016 - 2020\n\nOur Research question is:\nHow do crop type, hydrologic region, and year influence the amount of applied irrigation water per acre in California?\nWe will explore and examine the data and find what statistical model is appropriate.\n\n\n\nCalifornia Department of Water Sources - Statewide Agricultural Land & Water Use (2016 -2020)\n\n\n\n\n# Clear the environment\nrm(list = ls())\n\n# Load in libraries\npacman::p_load(tidyverse, dplyr, stringr, here, readxl, pals, broom, knitr,\n               janitor, dagitty, ggdag, ggplot2, kableExtra, tools)\n\n\n\n\nIn this section, we load the raw Excel file and prepare it for analysis. Real datasets often contain unnecessary columns, inconsistent variable names, or values that must be converted into usable formats. We use functions like clean_names(), select(), and pivot_longer() to transform the data into a tidy structure.\n\n# Read in data and clean the name to snake case and drop unused columns\nwater_raw &lt;- read_excel(here(\"posts\", \"crop-water-gamma\", \"data\",\n                  \"agricultural_water_use_data_2016_2020.xlsx\"),\n             sheet = \"Statewide_AW_Unit\", skip = 1) %&gt;% \n  clean_names() %&gt;% \n  select(!starts_with(\"x\"))\n\n# Pivot all crop columns, convert variable types, and drop missing rows\nwater_long &lt;- water_raw %&gt;% \n  pivot_longer(cols = -c(year, hr),\n               names_to = \"crop\",\n               values_to = \"aw_per_acre\") %&gt;% \n  mutate(aw_per_acre = as.numeric(aw_per_acre),\n         year = as.integer(year),\n         hr = as.factor(hr),\n         crop = as.factor(crop)) %&gt;% \n  filter(!is.na(aw_per_acre),\n         aw_per_acre &gt; 0)\n\n\n\n\nThe raw Excel file had many generated placeholders with columns labeled X1, X2, etc. which contained no data. We removed these using select(!start_with(\"x\")). The dataset is structured in a wide format where each crop is stored in its own column. In order for us to fit regression model, we need to put the crops into one column which was achieved using pivot_longer() which converts into a tidy dataset that represents year-region-crop combination that corresponding with applied water per acre.\nWe also used clean_names() from janitor package that standardized all column names in snake case throughout the analysis for better readability.\nSome observations showed zero applied water, which occurred for several reasons, such as the field not needing irrigation due to adequate rainfall, the land being empty and requiring no irrigation, or other reasons.\nBecause our research question asks how crop type, hydrologic region, and year influence the amount of irrigation water applied per acre, our focus is on variation in irrigation intensity among fields that were actually irrigated, not on the separate decision to withhold irrigation. For this reason, we restrict our analysis to positive applied-water observations and filter out zeroes.\n\n\n\nBefore fitting any statistical model, it is essential to understand the distribution of the variables. The violin plot visualizes how applied water per acre varies across crop types and reveals skewness, outliers, and general patterns. This helps justify the modeling choices and provides intuition about which predictors might influence water use.\n\n\nCode\n# Create a consistent color palette for crop types\ncrop_cols &lt;- setNames(alphabet()[1:length(levels(water_long$crop))], \n                      levels(water_long$crop))\n\nwater_long %&gt;%\nggplot(aes(x = crop, y = aw_per_acre, fill = crop)) +\n  geom_violin(trim = FALSE, alpha = 0.7) +\n  geom_boxplot(width = 0.1, outlier.shape = NA, alpha = 0.5) +\n  scale_fill_manual(values = crop_cols) +\n  coord_flip() +\n  theme_bw() +\n  theme(legend.position = \"none\",\n        plot.title = element_text(size = 14, face = \"bold\", hjust = 0),\n        axis.title.y = element_blank()) +\n  labs(y = \"Applied Water per Acre\")\n\n\n\n\n\nDistribution of applied water per acre across crop types, using violin + boxplot to visualize skewness and variability.\n\n\n\n\nThe violin plot shows that applied water per acre is strongly right-skewed for most crops. The widest portions of the violins occur at lower values, indicating that most observations involve relatively low water use. At the same time, long right tails reflect a small number of farm-years with much higher water application. Most observations fall between 1 and 3 acre-feet per acre, with a few extreme values extending the distribution to the right.\nHere, we are noticing some violin plots extending below zero on the x-axis. This phenomenon is called Kernel Density Estimation where the violin plots use to smooth the distribution of the data and provide a visual estimation of the entire population’s probable values, not just the observed data points.2"
  },
  {
    "objectID": "posts/crop-water-gamma/index.html#introduction",
    "href": "posts/crop-water-gamma/index.html#introduction",
    "title": "How Crop Type and Climate Zone Influence Agricultural Water Use in California",
    "section": "",
    "text": "California produces a large portion of the nation’s fruits, nuts, and vegetables. Irrigated agriculture dominates water use in the state, and the amount of water applied varies by crop type, hydrologic region, and year.1 The goal of this analysis is to understand how applied water per acre varies across crop types, hydrologic regions, and years using statewide data from 2016 - 2020.\nThis dataset provides annual estimates of:\n\nApplied Water per Acre\nHydrologic Regions\n20 Crop Categories\nYears 2016 - 2020\n\nOur Research question is:\nHow do crop type, hydrologic region, and year influence the amount of applied irrigation water per acre in California?\nWe will explore and examine the data and find what statistical model is appropriate.\n\n\n\nCalifornia Department of Water Sources - Statewide Agricultural Land & Water Use (2016 -2020)\n\n\n\n\n# Clear the environment\nrm(list = ls())\n\n# Load in libraries\npacman::p_load(tidyverse, dplyr, stringr, here, readxl, pals, broom, knitr,\n               janitor, dagitty, ggdag, ggplot2, kableExtra, tools)\n\n\n\n\nIn this section, we load the raw Excel file and prepare it for analysis. Real datasets often contain unnecessary columns, inconsistent variable names, or values that must be converted into usable formats. We use functions like clean_names(), select(), and pivot_longer() to transform the data into a tidy structure.\n\n# Read in data and clean the name to snake case and drop unused columns\nwater_raw &lt;- read_excel(here(\"posts\", \"crop-water-gamma\", \"data\",\n                  \"agricultural_water_use_data_2016_2020.xlsx\"),\n             sheet = \"Statewide_AW_Unit\", skip = 1) %&gt;% \n  clean_names() %&gt;% \n  select(!starts_with(\"x\"))\n\n# Pivot all crop columns, convert variable types, and drop missing rows\nwater_long &lt;- water_raw %&gt;% \n  pivot_longer(cols = -c(year, hr),\n               names_to = \"crop\",\n               values_to = \"aw_per_acre\") %&gt;% \n  mutate(aw_per_acre = as.numeric(aw_per_acre),\n         year = as.integer(year),\n         hr = as.factor(hr),\n         crop = as.factor(crop)) %&gt;% \n  filter(!is.na(aw_per_acre),\n         aw_per_acre &gt; 0)\n\n\n\n\nThe raw Excel file had many generated placeholders with columns labeled X1, X2, etc. which contained no data. We removed these using select(!start_with(\"x\")). The dataset is structured in a wide format where each crop is stored in its own column. In order for us to fit regression model, we need to put the crops into one column which was achieved using pivot_longer() which converts into a tidy dataset that represents year-region-crop combination that corresponding with applied water per acre.\nWe also used clean_names() from janitor package that standardized all column names in snake case throughout the analysis for better readability.\nSome observations showed zero applied water, which occurred for several reasons, such as the field not needing irrigation due to adequate rainfall, the land being empty and requiring no irrigation, or other reasons.\nBecause our research question asks how crop type, hydrologic region, and year influence the amount of irrigation water applied per acre, our focus is on variation in irrigation intensity among fields that were actually irrigated, not on the separate decision to withhold irrigation. For this reason, we restrict our analysis to positive applied-water observations and filter out zeroes.\n\n\n\nBefore fitting any statistical model, it is essential to understand the distribution of the variables. The violin plot visualizes how applied water per acre varies across crop types and reveals skewness, outliers, and general patterns. This helps justify the modeling choices and provides intuition about which predictors might influence water use.\n\n\nCode\n# Create a consistent color palette for crop types\ncrop_cols &lt;- setNames(alphabet()[1:length(levels(water_long$crop))], \n                      levels(water_long$crop))\n\nwater_long %&gt;%\nggplot(aes(x = crop, y = aw_per_acre, fill = crop)) +\n  geom_violin(trim = FALSE, alpha = 0.7) +\n  geom_boxplot(width = 0.1, outlier.shape = NA, alpha = 0.5) +\n  scale_fill_manual(values = crop_cols) +\n  coord_flip() +\n  theme_bw() +\n  theme(legend.position = \"none\",\n        plot.title = element_text(size = 14, face = \"bold\", hjust = 0),\n        axis.title.y = element_blank()) +\n  labs(y = \"Applied Water per Acre\")\n\n\n\n\n\nDistribution of applied water per acre across crop types, using violin + boxplot to visualize skewness and variability.\n\n\n\n\nThe violin plot shows that applied water per acre is strongly right-skewed for most crops. The widest portions of the violins occur at lower values, indicating that most observations involve relatively low water use. At the same time, long right tails reflect a small number of farm-years with much higher water application. Most observations fall between 1 and 3 acre-feet per acre, with a few extreme values extending the distribution to the right.\nHere, we are noticing some violin plots extending below zero on the x-axis. This phenomenon is called Kernel Density Estimation where the violin plots use to smooth the distribution of the data and provide a visual estimation of the entire population’s probable values, not just the observed data points.2"
  },
  {
    "objectID": "posts/crop-water-gamma/index.html#dag-directed-acyclic-graph",
    "href": "posts/crop-water-gamma/index.html#dag-directed-acyclic-graph",
    "title": "How Crop Type and Climate Zone Influence Agricultural Water Use in California",
    "section": "DAG (Directed Acyclic Graph)",
    "text": "DAG (Directed Acyclic Graph)\nA Directed Acyclic Graph clarifies our assumptions about how variables influence each other. Let’s dive into our variables:\n\nCrop Types influence water use because different crops require different irrigation levels\nThe hydrologic region affects crop type because different regions have different crops\nBoth year and hydrologic influence applied water per acre due to climate and resource availability\n\nThese relationships reflect scientific justification, including crop, hydrological region, and predictors in the regression model.\n\n\nCode\n# Draw a DAG\nwater_dag &lt;- dagitty(\"dag{\n               hr -&gt; crop\n               hr -&gt; aw_per_acre\n               year -&gt; crop\n               year -&gt; aw_per_acre\n               crop -&gt; aw_per_acre}\")\n\n# Assign coordinate for each variable nodes\ncoordinates(water_dag) &lt;- list(\n  x = c(hr = 0, year = 2, crop = 1, aw_per_acre = 3),\n  y = c(hr = 2, year = 2, crop = 1, aw_per_acre = 1))\n\n# Assign color for the nodes\nnode_colors &lt;- c(hr = \"#7F95D1\", year = \"#FF82A9\", \n                 crop = \"#FA824C\", aw_per_acre = \"#1B998B\")\n\n# Plot DAG\nggdag(water_dag, text = FALSE, node = FALSE) +\n  geom_dag_node(aes(fill = name), size = 12, shape = 21, color = \"white\") +\n  geom_dag_edges() +\n  scale_fill_manual(values = node_colors, name = \"Variables\",\n                    labels = c(aw_per_acre = \"Applied Water per Acre\",\n                               crop = \"Crop Type\",\n                               hr = \"Hydrologic Region\",\n                               year = \"Year\")) +\n  theme_minimal() +\n  theme(legend.title = element_text(size = 15, face = \"bold\", hjust = 0.5),\n        legend.position = \"right\",\n        legend.text = element_text(size = 12, face = \"bold\"),\n        axis.title = element_blank(),\n        axis.text = element_blank(),\n        axis.ticks = element_blank(),\n        panel.grid = element_blank(),\n        panel.background = element_blank(),\n        plot.margin = margin(10, 10, 10, 10))\n\n\n\n\n\nDAG representing hypothesized causal relationships among crop type, hydrologic region, year, and applied water per acre.\n\n\n\n\nThe DAG summarizes our assumptions about how crop type, hydrologic region, and year influence applied water per acre. Hydrologic region influences crop type because certain crops grow better in specific climates and soils. Both hydrologic region and year influences the response variable due to variation in precipitation, groundwater availability, and climate condition. Year affects crop distribution annually as they response directly to the market and climate."
  },
  {
    "objectID": "posts/crop-water-gamma/index.html#statistical-modeling",
    "href": "posts/crop-water-gamma/index.html#statistical-modeling",
    "title": "How Crop Type and Climate Zone Influence Agricultural Water Use in California",
    "section": "Statistical Modeling",
    "text": "Statistical Modeling\n\nWhy Gamma?\nThe Gamma Distribution with a log link would be appropriate for our dataset because applied water per acre is positive, continuous, and right-skewed. Rather than adding or subtracting a fixed amount of water, the model describes how water use scales up or down from the baseline. Each coefficient shows how much lower or higher expected water use is relative to the baseline condition. In other words, instead of saying “this crop uses n amount more acre-foot of water”, the model would tell us that the crop or region would use n% more / less water than average.\nAn interaction between crop type and hydrologic region could further expand our research scope to include region-specific crop water requirements. We will revisit a different model for this next time.\n\n\nGamma Model in Statistical Notation\nThe mathematical form of the model explains this notation:\n\\[\n\\begin{align*}\n&\\text{Applied Water} \\sim Gamma(\\mu, \\phi) \\\\\n\\log(\\mu) = \\beta_0 + &\\beta_1 (\\text{Crop}) + \\beta_2 (\\text{Hydrologic Region}) + \\beta_3 (\\text{Year})\n\\end{align*}\n\\]\nThe linear predictor for the mean is on the log scale, and the parameter of Gamma consists of the following:\n\n\\(\\mu\\) is expected applied water per acre\n\\(\\phi\\) is shape parameter and it controls with its size.\n\nLarger \\(\\phi\\) - distribution becomes more symmetric\nSmaller \\(\\phi\\) - distribution becomes more right-skewed and more spread out\n\n\nThe mathematical form of the log link for Gamma model:\n\\[\n\\text {Expected water use} = exp(\\text {linear predictor or }\\beta)\n\\]\n\n\nFit Model to Simulated Data\nTo demonstrate how the Gamma model works under the known parameters, we simulated 1000 observations from a Gamma distribution with a log-linear mean structure. We set the \\(\\beta_0 = 1\\) and a slope \\(\\beta_1 = -0.4\\).\n\n# Initialize simulated random data\nset.seed(123)\nn &lt;- 1000 # Sample Size\nbeta0 &lt;- 1 # Intercept\nbeta1 &lt;- -0.4 # Slope, controls strength and direction\nphi &lt;- 4 # Gamma Shape\n\n# Simulated a positive and right-skewed predictor\npredictor &lt;- rgamma(n, shape = 2, scale = 1)\n\n# Simulated Gamma-distribute response with mean\nresponse &lt;- rgamma(n, shape = phi, \n                   scale = exp(beta0 + beta1 * predictor) / phi) \n\nsim_data &lt;- tibble(predictor, response)\n\nsim_model &lt;- glm(response ~ predictor,\n                 data = sim_data,\n                 family = Gamma(link = \"log\"))\n\nsim_results &lt;- tidy(sim_model, conf.int = TRUE)\n\nsim_results %&gt;%\n  kbl(digits = 3, \n      caption = \"Gamma Regression Coefficients from Simulated Data (with 95% CI)\",\n      col.names = c(\"Term\", \"Estimate\", \"Std. Error\",\n                    \"Statistic\", \"p-value\",\n                    \"CI Lower\", \"CI Upper\")) %&gt;%\nkable_styling(bootstrap_options = c(\"striped\", \"hover\", \"condensed\"),\n              full_width = FALSE, position = \"center\") %&gt;%\n  row_spec(0, bold = TRUE, background = \"#f0f0f0\")\n\n\nGamma Regression Coefficients from Simulated Data (with 95% CI)\n\n\nTerm\nEstimate\nStd. Error\nStatistic\np-value\nCI Lower\nCI Upper\n\n\n\n\n(Intercept)\n1.017\n0.027\n37.187\n0\n0.963\n1.071\n\n\npredictor\n-0.415\n0.012\n-34.652\n0\n-0.439\n-0.392\n\n\n\n\n\nIncreasing the sample size to 1000 observations leads to tighter confidence intervals and demonstrates that the Gamma model can reliably recover the assumed parameters.\n\n\nParameter Recovery for Simulated Data\nDuring the simulation, the true parameters were:\n\nIntercepts: \\(\\beta_0 = 1\\)\nSlope: \\(\\beta_1 = -0.4\\)\n\nThe fitted Gamma regression model estimated coefficients very close to the true values we selected. The intercept estimate is approximately 1, and the slope estimate is approximately -0.4, indicating that the Gamma model with a log link successfully recovers the underlying parameters when the model assumptions hold. The simulation validates that the Gamma model applies to the water data.\n\n\nCode\n# Plot the simulated data with estimates\nggplot(sim_data, aes(x = predictor, y = response)) +\n  geom_point(alpha = 0.5) +\n  geom_smooth(method = \"glm\",\n              method.args = list(family = Gamma(link = \"log\")),\n              se = TRUE, color = \"red\", fill = \"blue\", size = 1) +\n  theme_bw() +\n  labs(x = \"Predictor\", y = \"Response\")\n\n\n\n\n\nSimulated Data with Fitted Gamma Regression Line\n\n\n\n\n\n\nFit to Real Life Data\nAfter confirming that the Gamma model performs well on simulated data, we fit the model. This step allows us to quantify how applied water per acre varies across crop types, hydrologic regions, and years in real-world conditions.\n\n\nCode\n# Fit Gamma Regression using log link to model applied water per acre\nwater_gamma_model &lt;- glm(aw_per_acre ~ crop + hr + factor(year),\n           family = Gamma(link = \"log\"),\n           data = water_long)\n\n# Make the table presentable\nwater_results &lt;- tidy(water_gamma_model, conf.int = TRUE) %&gt;%\n  mutate(term = gsub(\"^crop\", \"Crop: \", term),\n         term = gsub(\"^hr\", \"Region: \", term),\n         term = gsub(\"factor\\\\(year\\\\)\", \"Year: \", term),\n         term = gsub(\"Region: \\\\d+_\", \"Region: \", term),\n         term = gsub(\"other_field_Crop: s\", \"Other Field Crops\", term),\n         term = gsub(\"truck_Crop: s\", \"Truck Crops\", term),\n         term = gsub(\"_\", \" \", term),\n         term = toTitleCase(term)) %&gt;%\n  kable(format = \"html\",\n        caption = \"Gamma Regression Coefficients with 95% Confidence Intervals\",\n        col.names = c(\"Term\", \"Estimate\", \"Std. Error\", \"Statistic\", \"p-value\",\n                      \"CI (Lower)\", \"CI (Upper)\"), digits = 3,\n        align = \"c\") %&gt;%\n  kable_styling(bootstrap_options = c(\"striped\", \"hover\", \"condensed\"),\n                full_width = FALSE, position = \"center\") %&gt;%\n  row_spec(0, bold = TRUE, background = \"#f0f0f0\")\n\n# Show table\nwater_results\n\n\n\nGamma Regression Coefficients with 95% Confidence Intervals\n\n\nTerm\nEstimate\nStd. Error\nStatistic\np-value\nCI (Lower)\nCI (Upper)\n\n\n\n\n(Intercept)\n1.281\n0.041\n31.156\n0.000\n1.200\n1.363\n\n\nCrop: Almonds Pistachios\n-0.091\n0.043\n-2.099\n0.036\n-0.175\n-0.006\n\n\nCrop: Avg Aw\n-0.338\n0.041\n-8.283\n0.000\n-0.419\n-0.258\n\n\nCrop: Citrus Subtropical\n-0.187\n0.042\n-4.454\n0.000\n-0.269\n-0.105\n\n\nCrop: Corn\n-0.419\n0.041\n-10.097\n0.000\n-0.500\n-0.338\n\n\nCrop: Cotton\n-0.132\n0.052\n-2.522\n0.012\n-0.234\n-0.029\n\n\nCrop: Cucurbits\n-0.685\n0.042\n-16.265\n0.000\n-0.768\n-0.603\n\n\nCrop: Dry Beans\n-0.675\n0.045\n-15.083\n0.000\n-0.763\n-0.587\n\n\nCrop: Grain\n-1.391\n0.041\n-34.037\n0.000\n-1.471\n-1.311\n\n\nCrop: Onions Garlic\n-0.669\n0.042\n-15.756\n0.000\n-0.752\n-0.586\n\n\nCrop: Other Deciduous\n-0.233\n0.041\n-5.656\n0.000\n-0.314\n-0.152\n\n\nCrop: Other Field Crops\n-0.237\n0.041\n-5.717\n0.000\n-0.318\n-0.156\n\n\nCrop: Pasture\n0.101\n0.041\n2.476\n0.013\n0.021\n0.181\n\n\nCrop: Potatoes\n-0.149\n0.044\n-3.390\n0.001\n-0.236\n-0.063\n\n\nCrop: Rice\n0.087\n0.057\n1.524\n0.128\n-0.024\n0.199\n\n\nCrop: Safflower\n-0.581\n0.046\n-12.555\n0.000\n-0.671\n-0.490\n\n\nCrop: Sugar Beets\n-0.247\n0.156\n-1.589\n0.112\n-0.539\n0.072\n\n\nCrop: Tomato Fresh\n-0.626\n0.112\n-5.573\n0.000\n-0.840\n-0.399\n\n\nCrop: Tomato Processing\n-0.454\n0.045\n-10.140\n0.000\n-0.541\n-0.366\n\n\nCrop: Truck Crops\n-0.770\n0.041\n-18.838\n0.000\n-0.850\n-0.689\n\n\nCrop: Vineyard\n-0.293\n0.042\n-6.983\n0.000\n-0.375\n-0.211\n\n\nRegion: San Francisco Bay\n0.005\n0.036\n0.132\n0.895\n-0.067\n0.076\n\n\nRegion: Central Coast\n0.038\n0.035\n1.065\n0.287\n-0.032\n0.107\n\n\nRegion: South Coast\n0.237\n0.036\n6.619\n0.000\n0.167\n0.308\n\n\nRegion: Sacramento River\n0.181\n0.035\n5.190\n0.000\n0.113\n0.250\n\n\nRegion: San Joaquin River\n0.201\n0.035\n5.767\n0.000\n0.133\n0.270\n\n\nRegion: Tulare Lake\n0.200\n0.035\n5.667\n0.000\n0.130\n0.269\n\n\nRegion: North Lahontan\n0.121\n0.043\n2.809\n0.005\n0.037\n0.206\n\n\nRegion: South Lahontan\n0.563\n0.037\n15.152\n0.000\n0.490\n0.636\n\n\nRegion: Colorado River\n0.581\n0.035\n16.458\n0.000\n0.511\n0.650\n\n\nRegion: State\n0.242\n0.035\n6.955\n0.000\n0.174\n0.310\n\n\nYear: 2017\n-0.109\n0.023\n-4.766\n0.000\n-0.153\n-0.064\n\n\nYear: 2018\n-0.043\n0.023\n-1.881\n0.060\n-0.089\n0.002\n\n\nYear: 2019\n-0.137\n0.023\n-5.963\n0.000\n-0.182\n-0.092\n\n\nYear: 2020\n-0.062\n0.023\n-2.678\n0.008\n-0.107\n-0.016\n\n\n\n\n\nRegions differ substantially in expected water use even after accounting for crop type and year. The Colorado River (0.58) and South Lahontan (0.56) regions show the largest positive coefficients. These regions are estimated to use approximately 75-80% more water per acre than the baseline region.\nWe know the percentage by calculating log link:\n\\(exp(\\beta \\text{ of Colorado River}) = exp(0.58) \\approx 1.79\\)\n\\(exp(\\beta \\text{ of South Laho.ntan}) = exp(0.56) \\approx 1.75\\)\nThese regional differences are consistent with climate patterns across California. Inland regions such as the Colorado River and South Lahontan are known to have hotter, drier conditions and higher evaporative demand (the atmosphere’s tendency to remove moisture from soil and plants), requiring higher irrigation. On the other hand, coastal regions such as the San Francisco Bay and Central Coast experience cooler temperatures, corresponding to lower irrigation needs.\n\n\nCoefficient Plot\nWe visualize the estimated regression coefficients along with their 95% confidence intervals. This coefficient plot provides the uncertainty of each predictor’s association with applied water per acre.\n\n\nCode\ntidy(water_gamma_model, conf.int = TRUE) %&gt;%\n  filter(grepl(\"^hr\", term)) %&gt;%\n  mutate(term = gsub(\"^hr\\\\d+_\", \"\", term),\n         term = gsub(\"_\", \" \", term),\n         term = reorder(term, estimate)) %&gt;%\n  ggplot(aes(x = term, y = estimate)) +\n  geom_point(size = 2) +\n  geom_errorbar(aes(ymin = conf.low, ymax = conf.high), width = 0.15) +\n  coord_flip() +\n  theme_bw() +\n  labs(x = \"Hydrologic Region\", y = \"Estimate (log scale)\")\n\n\n\n\n\nHydrologic Region Effects with fitted Gamma regression line and 95% confidence interval"
  },
  {
    "objectID": "posts/crop-water-gamma/index.html#inference",
    "href": "posts/crop-water-gamma/index.html#inference",
    "title": "How Crop Type and Climate Zone Influence Agricultural Water Use in California",
    "section": "Inference",
    "text": "Inference\nWe are interested in if hydrologic region is associated with differences in applied water per acre, after adding all consideration for crop types and year.\n\nExplain Hypothesis in Plain-Language\nSome hydrologic regions require more applied water per acre than others, even after adjusting for crop type and year.\n\\[\n\\begin{aligned}\nH_0:&\\ \\beta_r = 0 \\quad \\text{(no difference in expected water use)} \\\\\nH_A:&\\ \\beta_r \\neq 0 \\quad \\text{(a region differs from the baseline region)}\n\\end{aligned}\n\\]\n\n\nVisualizing Hypothesis\nBefore interpreting hypothesis test results, use visualization to examine applied water per acre by hydrologic region. The figure will help to evaluate how water use differs across regions in the observed data and results of the Gamma regression model.\n\n\nCode\n# Plot \nggplot(water_long, aes(x = hr, y = aw_per_acre, fill = hr)) +\n  geom_violin(trim = FALSE, alpha = 0.5) +\n  geom_boxplot(width = 0.15, outlier.shape = NA) +\n  scale_fill_brewer(palette = \"Set3\") +\n  scale_x_discrete(labels = function(x) \n    {x &lt;- gsub(\"^\\\\d+_\", \"\", x)\n     x &lt;- gsub(\"_\", \" \", x)}) +\n  labs(x = \"Hydrologic Region\",\n       y = \"Applied Water per Acre\") +\n  theme_minimal() +\n  theme(legend.position = \"none\",\n        axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\nDistribution of applied water per acre across hydrologic regions.\n\n\n\n\nThe combined violin and box plot displays both the full distribution of water use within each region and key summary statistics, allowing us to evaluate differences in central tendency, variability, and skewness across regions."
  },
  {
    "objectID": "posts/crop-water-gamma/index.html#conclusion",
    "href": "posts/crop-water-gamma/index.html#conclusion",
    "title": "How Crop Type and Climate Zone Influence Agricultural Water Use in California",
    "section": "Conclusion",
    "text": "Conclusion\nThis analysis shows that the hydrologic region is a key determinant of agricultural irrigation intensity in California. Even after accounting for crop type and year, inland regions consistently require more applied water per acre than coastal regions, as the hotter, drier air in inland climates causes water to evaporate more quickly from soils and crops than crop composition alone. Supported by the hypothesis visualization, which shows shifts in the distribution, reinforcing the model-based evidence of regional differences. By focusing on irrigated fields, this analysis isolates variation in irrigation intensity but does not model irrigation decisions or region-specific crop responses. Future work could incorporate crop–region interactions to understand better how water requirements vary across California’s diverse hydrologic landscapes."
  },
  {
    "objectID": "posts/crop-water-gamma/index.html#reference",
    "href": "posts/crop-water-gamma/index.html#reference",
    "title": "How Crop Type and Climate Zone Influence Agricultural Water Use in California",
    "section": "Reference",
    "text": "Reference\nCalifornia Department of Water Resources. (2020). Statewide Agricultural Water Use Data, 2016–2020 [data file]. Available: https://data.ca.gov/dataset/statewide-agricultural-water-use-data-2016-2020. [Accessed: Oct. 25, 2025]\nWikimedia Commons. (2024). Sisteme-de-irigatie.jpg [image file]. Available: https://commons.wikimedia.org/w/index.php?title=File:Sisteme-de-irigatie.jpg&oldid=838313884. [Accessed: Dec. 4, 2025]"
  },
  {
    "objectID": "posts/crop-water-gamma/index.html#footnotes",
    "href": "posts/crop-water-gamma/index.html#footnotes",
    "title": "How Crop Type and Climate Zone Influence Agricultural Water Use in California",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nCalifornia Department of Food and Agriculture. (2024). California agricultural production statistics [web page]. Available: https://www.cdfa.ca.gov/statistics.↩︎\nMode Analytics. (2021). Violin Plots 101: Visualizing Distribution and Probability Density [web page]. Available: https://mode.com/blog/violin-plot-examples.↩︎"
  },
  {
    "objectID": "posts/ep-wildfire-analysis/index.html",
    "href": "posts/ep-wildfire-analysis/index.html",
    "title": "Eaton and Palisades Fires: A Satellite & Social Vulnerability Analysis",
    "section": "",
    "text": "Github Repository: https://github.com/jwonyk/ep-wildfire-analysis"
  },
  {
    "objectID": "posts/ep-wildfire-analysis/index.html#about",
    "href": "posts/ep-wildfire-analysis/index.html#about",
    "title": "Eaton and Palisades Fires: A Satellite & Social Vulnerability Analysis",
    "section": "About",
    "text": "About\n\nPurpose\nIn early 2025, two major Southern California wildfires, the Eaton and the Palisades Fire, burned across different parts of Los Angeles County. To better understand the impacts of these events, this project combines Landsat 8 satellite imagery with census-tract-level community indicators from the 2024 Environmental Justice Index (EJI). By integrating remote sensing and social vulnerability data, this analysis highlights both the visible physical burn patterns from space and the community characteristics of affected populations.\n\n\nHighlights\n\nRestore missing CRS from a Landsat NetCDF file\nCreate true and false-color images to visualize vegetation, burned areas, and the landscape condition\nOverlay false-color imagery with the fire perimeter to illustrate aftermath of wildfire\nExamined key vulnerability indicator: age\nCompared the vulnerability profiles of communities affected by the Palisades and Eaton fires\n\n\n\nAbout the data\n\nFire Perimeter Dataset\nThe fire perimeter dataset contains dissolved burn boundaries for the Eaton and Palisades fires. The original data comes from NIFC FIRIS (Fire Integrated Real-time Intelligence System). The data provides daily fire growth during the event of wildfire. The dataset is accessed through Los Angeles GeoHub and it is also accesscible from NIFC FIRIS public ArcGIS service.\n\n\nLandsat NetCDF Dataset\nThe Landsat used in this analysis is a Landsat 8 Collection Level-2 Surface Reflectance product accessed through the Microsoft Planetary Computer Data Catalogue. The dataset includes multiple spectral bands stored in a NetCDF structure, CRS information, coordinate dimensions, and metadata. The spectral bands will assist to create true and false-color composite images for post-fire assessment.\n\n\nEnvironmental Justice Index Community Vulnerability Analysis\nThis analysis uses the 2024 Environmental Justice Index (EJI) to identify and compare census tracts affected by the Eaton and Palisades fires, using spatial joins and clipping to the fire boundaries. After aligning datasets to a shared CRS, the intersecting tracts are examined using four key vulnerability indicators, such as age, vehicle access, poverty, and overall EJI score, to highlight differences in social and demographic vulnerability between the two burn areas."
  },
  {
    "objectID": "posts/ep-wildfire-analysis/index.html#part-1---satellite-imagery-analysis",
    "href": "posts/ep-wildfire-analysis/index.html#part-1---satellite-imagery-analysis",
    "title": "Eaton and Palisades Fires: A Satellite & Social Vulnerability Analysis",
    "section": "Part 1 - Satellite Imagery Analysis",
    "text": "Part 1 - Satellite Imagery Analysis\n\nSetup for the Analysis\n\n# Import packages for this project\nimport os\nimport numpy as np\nimport pandas as pd\nimport geopandas as gpd\nimport xarray as xr\nimport rioxarray\nimport matplotlib.pyplot as plt\nimport matplotlib.patches as mpatches\n\n\n# Set pandas to display all columns\npd.set_option(\"display.max_columns\", None)\n\n\n# Load fire perimeter datasets\neaton = gpd.read_file(os.path.join('data',\n                                      'fire_perimeters',\n                                      'Eaton_Perimeter_20250121.geojson'))\n\npalisades = gpd.read_file(os.path.join('data',\n                                      'fire_perimeters',\n                                      'Palisades_Perimeter_20250121.geojson'))\n\n\n# Import NetCDF dataset\nlandsat = xr.open_dataset(\"data/landsat8-2025-02-23-palisades-eaton.nc\")\n\n\n\nRestore Geospatial Information (CRS Recovery)\nThe NetCDF file contains projection information inside the spatial_ref variable. rio.crs initially shows that no CRS is assigned. I will extract the WKT projection from spatial_ref.crs_wkt and write it back to the dataset using rio.write_crs().\n\n# extract CRS from the spatial_ref variable\ncrs_wkt = landsat.spatial_ref.crs_wkt\n\n# write CRS into rioxarray metadata\nlandsat = landsat.rio.write_crs(crs_wkt)\n\n\n\nTrue-Color Composite\nI will select the red, green, and blue bands and converted them into a 3-band array. The initial plot produces warnings due to bright cloud outliers, so I will use the robust = True parameter to ignore extreme values. At the end, I will identify and replace NaN values to create a clean final RGB image.\n\nrgb = landsat[['red', 'green', 'blue']].fillna(0)\n\nrgb_plot = (rgb.to_array().plot.imshow(\n    robust = True, \n    figsize = (7, 7), \n    add_colorbar = False))\n\nplt.title(\"True Color Composite (Landsat 8, Feb 23 2025)\", fontsize = 14)\nplt.axis(\"off\")\nplt.tight_layout()\n\n\n\n\n\n\n\n\n\n\nFalse-Color Composite\nFalse color composites help highlight vegetation health and burn severity. I will plot a SWIR2, NIR, Red composite without creating new variables.\n\n(landsat[['swir22', 'nir08', 'red']].fillna(0)\n                                  .to_array()\n                                  .plot.imshow(\n                                    robust = True, \n                                    figsize = (7,7),\n                                    add_colorbar = False))\n\nplt.title(\"False Color Composite (Landsat 8, Feb 23 2025)\", fontsize = 14)\nplt.axis(\"off\")\nplt.tight_layout()\n\n\n\n\n\n\n\n\n\n\nOverlaying Fire perimeters\n\n# Create a figure and axes for plotting\nfig, ax = plt.subplots(figsize = (10, 10))\n\n# ---------------------------------------------------------------\n# BASE LAYER\n# ---------------------------------------------------------------\n\n# Plot the false color landsat composite (SWIR2, NIR, Red)\n(landsat[['swir22', 'nir08', 'red']].fillna(0)\n                                    .to_array()\n                                    .plot.imshow(ax = ax,\n                                    add_colorbar = False,\n                                    robust = True))\n\n# ---------------------------------------------------------------\n# FIRE PERIMETER OVERLAYS\n# ---------------------------------------------------------------\n\n# Plot Eaton Fire perimeter using the raster's CRS\neaton.to_crs(landsat.rio.crs).plot(ax = ax,\n                                   edgecolor = 'yellow',\n                                   facecolor = 'none',\n                                   linewidth = 1.5)\n\n# Plot Palisades Fire perimeter using the raster's CRS\npalisades.to_crs(landsat.rio.crs).plot(ax = ax,\n                                   edgecolor = 'red',\n                                   facecolor = 'none',\n                                   linewidth = 1.5)\n\n# ---------------------------------------------------------------\n# CUSTOM LEGEND PATCHES\n# ---------------------------------------------------------------\n\n# Create a custom label bubble for Eaton\neaton_patch = mpatches.Patch(facecolor = 'none',\n                             edgecolor = 'yellow',\n                             linewidth = 2.5,\n                             label = 'Eaton Fire')\n\n# Create a custom label bubble for Palisades\npalisades_patch = mpatches.Patch(facecolor = 'none',\n                             edgecolor = 'red',\n                             linewidth = 2.5,\n                             label = 'Palisades Fire')\n\n# Display a legend identifying each fire perimeter\nax.legend(handles = [eaton_patch, palisades_patch],\n          loc = 'upper left')\n\n# ---------------------------------------------------------------\n# ON-MAP TEXT LABELS\n# ---------------------------------------------------------------\n\n# Eaton label (top right)\nax.text(0.75, 0.80,\n        'Eaton Fire',\n        transform = ax.transAxes,\n        fontsize = 12,\n        color = 'yellow',\n        fontweight = 'bold',\n        bbox = dict(boxstyle = 'round',\n                    facecolor = 'black',\n                    alpha = 0.5))\n\n# Palisades label (bottom left)\nax.text(0.15, 0.20,\n        'Palisades Fire',\n        transform = ax.transAxes,\n        fontsize = 12,\n        color = 'red',\n        fontweight = 'bold',\n        bbox = dict(boxstyle = 'round',\n                    facecolor = 'white',\n                    alpha = 0.75))\n\n# ---------------------------------------------------------------\n# TITLE AND LAYOUT\n# ---------------------------------------------------------------\n\n# Label the map to clarify the image and overlays\nax.set_title((\"False Color Landsat (Feb 23, 2025) with Fire Perimeters (Jan 21, 2025)\"),\n             fontsize = 13)\n\n# Remove both axis ticks\nax.set_xticks([])\nax.set_yticks([])\n\n# Replace x and y label\nax.set_xlabel(\"Easting (meters)\", fontsize = 12)\nax.set_ylabel(\"Northing (meters)\", fontsize = 12)\n\n# Improve layout so elements do not overlap\nplt.tight_layout()\n\n\n\n\n\n\n\n\n\n\nFigure Description\nThis map shows a false color Landsat composite with SWIR2, NIR, Red bands over the perimeters for both Eaton and Palisade fires. In this false color image, shortwave infrared (SWIR2) and near-infraed(NIR) energy responses highlight differences between healthy vegetation, burned, and developed areas. Burned area appear in different color compare to healthy vegetation areas are bright green. Overlaying the fire perimeter boundaries on top of the images shows the visual comparison of burn patterns."
  },
  {
    "objectID": "posts/ep-wildfire-analysis/index.html#part-2---social-vulnerability",
    "href": "posts/ep-wildfire-analysis/index.html#part-2---social-vulnerability",
    "title": "Eaton and Palisades Fires: A Satellite & Social Vulnerability Analysis",
    "section": "Part 2 - Social Vulnerability",
    "text": "Part 2 - Social Vulnerability\nThe 2024 Environmental Justice Index (EJI) dataset examined community characteristics in the census tracts that intersected each fire. All data were converted to a shared CRS and spatially joined to the fire perimeters using geopandas.sjoin().\nTo focus on social and demographic factors relevant to wildfire response, following indicator was selected: - E_AGE65: Percent population aged 65+\n\nSetup for the Analysis\n\n# Import library that is necessary for this analysis\nimport contextily as ctx\n\n# EJI data (geodatabase)\neji = gpd.read_file(\"data/EJI_2024_California/EJI_2024_California.gdb\")\n\n# Reproject\neji = eji.to_crs(epsg = 4326)\n\n\n\nSpatial Join - Identify Census Tract intersecting Each Fire\nTo determine which communities were affected, I performed a spatial join between the EJI census tracts and each fire perimeter. This identifies all tracts whose boundaries intersect the Eaton or Palisades fire footprint.\n\n# Spatial join\ncensus_within_palisades = gpd.sjoin(eji, palisades, how = \"inner\", predicate = \"intersects\")\ncensus_within_eaton = gpd.sjoin(eji, eaton, how = \"inner\", predicate = \"intersects\")\n\n# Check how many tracts there is\nprint(\"Palisades tracts:\", len(census_within_palisades))\nprint(\"Eaton tracts:\", len(census_within_eaton))\n\nPalisades tracts: 36\nEaton tracts: 38\n\n\n\n\nPolygon Clipping\nTo focus only on the census-tract areas actually affected by each fire, I clipped the EJI tracts to the Eaton and Palisades fire boundaries. This trims the polygons to the exact burned footprint and ensures the demographic analysis reflects only the portions of each tract that were inside the fire perimeter.\n\n# Clip EJI census tracts to each fire perimeter\npalisades_clipped = gpd.clip(census_within_palisades, palisades)\neaton_clipped = gpd.clip(census_within_eaton, eaton)\n\n\n\nPlot Age 65+ for Both Fire Areas\nAfter clipping the census tracts to each fire boundary, I mapped the percentage of residents aged 65 and older using a shared color range. This visualization illustrates how the elderly population is distributed within each burn area and highlights differences between the communities affected by the two fires.\n\n# Assign name for the EJI column name\neji_variable = 'E_AGE65'\n\n# Find common min/max for legend range\nvmin = min(census_within_palisades[eji_variable].min(), \n           census_within_eaton[eji_variable].min())\n\nvmax = max(census_within_palisades[eji_variable].max(), \n           census_within_eaton[eji_variable].max())\n\nfig, (ax1, ax2) = plt.subplots(1, 2, figsize = (7, 7))\n\n# Plot census tracts within Palisades perimeter\ncensus_within_palisades.plot(\n    column = eji_variable,\n    vmin = vmin, vmax = vmax,\n    legend = False,\n    ax = ax1)\nax1.set_title('Palisades Fire Area', fontsize = 25)\nax1.axis('off')\n\n# Plot census tracts within Eaton perimeter\ncensus_within_eaton.plot(\n    column = eji_variable,\n    vmin = vmin, vmax = vmax,\n    legend = False,\n    ax = ax2)\nax2.set_title('Eaton Fire Area', fontsize = 25)\nax2.axis('off')\n\n# Add overall title\nfig.suptitle('Age 65+ - Fire Areas Comparison', fontsize = 45)\n\n# Add shared colorbar at the bottom\nsm = plt.cm.ScalarMappable(norm = plt.Normalize(vmin = vmin, vmax = vmax))\ncbar_ax = fig.add_axes([0.25, 0.08, 0.5, 0.02])  # [left, bottom, width, height]\ncbar = fig.colorbar(sm, cax = cbar_ax, orientation = 'horizontal')\ncbar.set_label('Population Age Over 65')\n\nplt.show()\n\n\n\n\n\n\n\n\n\n\nFigure Description\nClipping the EJI census tracts to each fire boundary refines the analysis by showing only the precise areas affected by the Eaton and Palisades fires. When mapped, the clipped tracts reveal that each fire intersects a different set of communities. Using the Age 65+ indicator, the Palisades area generally shows a higher proportion of older adults, while the Eaton area displays lower but more variable elderly populations. This difference highlights how the fires impacted communities with distinct demographic vulnerabilities."
  },
  {
    "objectID": "posts/ep-wildfire-analysis/index.html#reference",
    "href": "posts/ep-wildfire-analysis/index.html#reference",
    "title": "Eaton and Palisades Fires: A Satellite & Social Vulnerability Analysis",
    "section": "Reference",
    "text": "Reference\n\nLos Angeles GeoHub / NIFC FIRIS. (2025). Palisades–Eaton dissolved fire perimeters [data file]. Available: https://geohub.lacity.org/maps/ad51845ea5fb4eb483bc2a7c38b2370c/about. [Accessed: Nov. 15, 2025]\nU.S. Geological Survey. Landsat Collection 2 Level-2 Surface Reflectance (Microsoft Planetary Computer version) [data file]. Available: https://planetarycomputer.microsoft.com/dataset/landsat-c2-l2. [Accessed: Nov. 15, 2025]\nU.S. Department of Health and Human Services. (2024). Environmental Justice Index (EJI), 2024 – California Census Tract Data [data file]. Available: https://www.atsdr.cdc.gov/place-health/php/eji/eji-data-download.html. [Accessed: Nov. 21, 2025]\nWikimedia Commons. (2025). 2025 Southern California Fires and the United States Forest Service (USFS) – Taskforce 1600 at the Palisades Fire (54264940069).jpg [image file]. Available: https://commons.wikimedia.org/wiki/File:2025_Southern_California_fires_and_the_United_States_Forest_Service_(USFS)_-Taskforce_1600_at_the_Palisades_Fire(54264940069).jpg. [Accessed: Dec. 4, 2025]"
  },
  {
    "objectID": "posts/marine-aquaculture-selection/index.html",
    "href": "posts/marine-aquaculture-selection/index.html",
    "title": "Marine Aquaculture Suitability Analysis",
    "section": "",
    "text": "The growth of marine aquaculture has increased the need for spatial analyses that help identify where different species are most likely to thrive. For shellfish farmers, selecting suitable offshore locations is crucial, which entails determining the proper environmental conditions, such as temperature and depth, that strongly influence survival, growth, overall yield potential, and understanding how to support more sustainable development."
  },
  {
    "objectID": "posts/marine-aquaculture-selection/index.html#introduction",
    "href": "posts/marine-aquaculture-selection/index.html#introduction",
    "title": "Marine Aquaculture Suitability Analysis",
    "section": "",
    "text": "The growth of marine aquaculture has increased the need for spatial analyses that help identify where different species are most likely to thrive. For shellfish farmers, selecting suitable offshore locations is crucial, which entails determining the proper environmental conditions, such as temperature and depth, that strongly influence survival, growth, overall yield potential, and understanding how to support more sustainable development."
  },
  {
    "objectID": "posts/marine-aquaculture-selection/index.html#set-up",
    "href": "posts/marine-aquaculture-selection/index.html#set-up",
    "title": "Marine Aquaculture Suitability Analysis",
    "section": "Set up",
    "text": "Set up\nWe are going to clear the environment and load necessary packages.\n\n# Clear environment and load required packages\nrm(list = ls())\npacman::p_load(tidyverse, sf, here, \n               terra, stars, tmap, units,\n               ggplot2, viridisLite, dplyr, testthat,\n               janitor, knitr, kableExtra, paletteer)"
  },
  {
    "objectID": "posts/marine-aquaculture-selection/index.html#data-preparation",
    "href": "posts/marine-aquaculture-selection/index.html#data-preparation",
    "title": "Marine Aquaculture Suitability Analysis",
    "section": "Data Preparation",
    "text": "Data Preparation\nReading in SST and depth rasters, then check coordinate reference systems (CRS) so that spatial layers align correctly for later operations.\n\n# Assign file into lists for average annual sea surface temperature (08-12)\nsst_files &lt;- list.files(here(\"posts\", \"marine-aquaculture-selection\", \"data\"), \n                      pattern = \"average_annual_sst_\", \n                      full.names = TRUE)\n\n# Check to make sure all SST files are loading\nif(length(sst_files) != 5) {\n  \n  stop(\"Fatal error. Please check the file names or path.\")\n  \n} \n\n# Read in raster objects and shapefile\neez &lt;- st_read(here(\"posts\", \"marine-aquaculture-selection\", \"data\", \n                    \"wc_regions_clean\", \"wc_regions_clean.shp\"), \n               quiet = TRUE)\ndepth_rast &lt;- rast(here(\"posts\", \"marine-aquaculture-selection\", \n                        \"data\", \"depth.tif\"))\nsst_rast &lt;- rast(sst_files)\n\n\n\n# Align EEZ shapefile CRS to SST CRS\nif(!identical(st_crs(eez), st_crs(sst_rast))) {\n  \n  message(\"EEZ CRS does not match SST CRS! Transforming EEZ to match SST.\")\n  eez &lt;- st_transform(eez, st_crs(sst_rast))\n  \n} else {\n  \n  message(\"EEZ CRS matches SST CRS.\")\n  \n}\n\n# Match depth raster to SST CRS using `project()`\nif(!crs(depth_rast) == crs(sst_rast)) {\n  \n  message(\"Depth CRS does not match SST CRS! Projecting depth raster.\")\n  depth_rast &lt;- project(depth_rast, sst_rast, method = \"near\")\n  \n} else {\n  \n  message(\"Depth CRS matches SST CRS.\")\n  \n}"
  },
  {
    "objectID": "posts/marine-aquaculture-selection/index.html#compute-mean-sst-and-convert-to-celsius",
    "href": "posts/marine-aquaculture-selection/index.html#compute-mean-sst-and-convert-to-celsius",
    "title": "Marine Aquaculture Suitability Analysis",
    "section": "Compute Mean SST and Convert to Celsius",
    "text": "Compute Mean SST and Convert to Celsius\nBecause SST data span multiple years, we average the rasters to obtain a mean temperature surface, which is then converted from Kelvin to Celsius.\n\n# Get the average of SST in Kelvin ()\nsst_mean_kelvin &lt;- mean(sst_rast, na.rm = TRUE)\n\n# Convert the average of SST in Celsius\nsst_mean_celsius &lt;- sst_mean_kelvin - 273.15\n\n# Rename the column to make sure no confusion later\nnames(sst_mean_celsius) &lt;- \"sst_mean_celsius\""
  },
  {
    "objectID": "posts/marine-aquaculture-selection/index.html#align-depth-raster-to-sst-raster",
    "href": "posts/marine-aquaculture-selection/index.html#align-depth-raster-to-sst-raster",
    "title": "Marine Aquaculture Suitability Analysis",
    "section": "Align Depth Raster to SST Raster",
    "text": "Align Depth Raster to SST Raster\nThe depth raster must match the SST raster’s resolution and extent to ensure accurate cell-by-cell comparison during suitability calculations.\n\n# Align depth raster to SST\ndepth_crop &lt;- crop(depth_rast, sst_mean_celsius)\n\n# Resample to match SST resolution (use the nearest neighbor)\ndepth_resample &lt;- resample(depth_crop, \n                           sst_mean_celsius, \n                           method = \"near\")\n\n# Rename the column to make sure no confusion later\nnames(depth_resample) &lt;- \"depth_resample\"\n\n# Check SST and depth are align\nc(sst_mean_celsius, depth_resample)\n\nclass       : SpatRaster \nsize        : 480, 408, 2  (nrow, ncol, nlyr)\nresolution  : 0.04166185, 0.04165702  (x, y)\nextent      : -131.9848, -114.9867, 29.99305, 49.98842  (xmin, xmax, ymin, ymax)\ncoord. ref. : lon/lat WGS 84 \nsource(s)   : memory\nnames       : sst_mean_celsius, depth_resample \nmin values  :            4.980,          -5468 \nmax values  :           32.895,           4218 \n\ncompareGeom(sst_mean_celsius, depth_resample)\n\n[1] TRUE"
  },
  {
    "objectID": "posts/marine-aquaculture-selection/index.html#reclassifying-combine-for-suitability",
    "href": "posts/marine-aquaculture-selection/index.html#reclassifying-combine-for-suitability",
    "title": "Marine Aquaculture Suitability Analysis",
    "section": "Reclassifying & Combine for Suitability",
    "text": "Reclassifying & Combine for Suitability\nWe convert continuous SST values into a binary suitability layer based on oyster temperature thresholds from the literature. Similarly, depth values are reclassified to identify areas within the allowable depth range for oyster growth. Multiplying the two binary layers identifies grid cells that meet both environmental requirements.\n\n# Oyster thresholds\noyster_sst_min &lt;- 11\noyster_sst_max &lt;- 30\noyster_depth_min &lt;- -70\noyster_depth_max &lt;- 0\n\n# Reclassify SST suitability\n# 0 = unsuitable & 1 = suitable\noyster_sst_suitable &lt;- lapp(sst_mean_celsius, \n                            fun = function(x)\n                              ifelse(x &gt;= 11 & x &lt;= 30, 1, 0))\n\n\n# Reclassify depth\noyster_depth_suitable &lt;- lapp(depth_resample,\n                              fun = function(x)\n                                ifelse(x &gt;= -70 & x &lt;= 0, 1, 0))\n\n# Combine classified SST and depth by multiplying them both\noyster_cells_suitable &lt;- oyster_sst_suitable * oyster_depth_suitable"
  },
  {
    "objectID": "posts/marine-aquaculture-selection/index.html#crop-and-mask-suitability-to-eez-boundaries",
    "href": "posts/marine-aquaculture-selection/index.html#crop-and-mask-suitability-to-eez-boundaries",
    "title": "Marine Aquaculture Suitability Analysis",
    "section": "Crop and Mask Suitability to EEZ Boundaries",
    "text": "Crop and Mask Suitability to EEZ Boundaries\nWe restrict the area of interest to U.S. West Coast Exclusive Economic Zones (EEZs), ensuring suitability is evaluated only within jurisdictional waters.\n\n# Convert EEZ object to SpatVector to use as `terra` ojbect\neez_vector &lt;- vect(eez)\n\n# Crop suitability raster to EEZ bounding box (reduce processing)\noyster_crop &lt;- crop(oyster_cells_suitable, eez_vector)\n\n# Mask cells outside the EEZ\noyster_eez &lt;- mask(oyster_crop, eez_vector)"
  },
  {
    "objectID": "posts/marine-aquaculture-selection/index.html#compute-suitable-cells-to-area",
    "href": "posts/marine-aquaculture-selection/index.html#compute-suitable-cells-to-area",
    "title": "Marine Aquaculture Suitability Analysis",
    "section": "Compute Suitable Cells to Area",
    "text": "Compute Suitable Cells to Area\nEach raster cell’s area is computed and summed within each EEZ to quantify total suitable habitat in square kilometers.\n\n# Compute per-cell area (in km^2)\ncell_area_km2 &lt;- cellSize(oyster_eez, unit = \"km\")\n\n# Multiply area raster by suitable, 0 vs 1, only return suitable cells\noyster_area &lt;- oyster_eez * cell_area_km2\n\n# Rename the column to make sure no confusion later\nnames(oyster_area) &lt;- \"suitable_area_km2\""
  },
  {
    "objectID": "posts/marine-aquaculture-selection/index.html#join-suitability-results-to-eez-polygons",
    "href": "posts/marine-aquaculture-selection/index.html#join-suitability-results-to-eez-polygons",
    "title": "Marine Aquaculture Suitability Analysis",
    "section": "Join Suitability Results to EEZ Polygons",
    "text": "Join Suitability Results to EEZ Polygons\nWe join calculated suitable area values back to EEZ polygons so they can be visualized on a choropleth map.\n\n# Rename ID column to easier access\neez &lt;- eez %&gt;% \n  rename(eez_id = rgn_id)\n\n# Convert into SpatVector after name update\neez_vector &lt;- vect(eez)\n\n# Rasterize EEZ polygons to match raster grid before `zonal()`\neez_id_raster &lt;- rasterize(eez_vector, oyster_area, field = \"eez_id\")"
  },
  {
    "objectID": "posts/marine-aquaculture-selection/index.html#calculate-and-summarize-suitable-area-by-eez",
    "href": "posts/marine-aquaculture-selection/index.html#calculate-and-summarize-suitable-area-by-eez",
    "title": "Marine Aquaculture Suitability Analysis",
    "section": "Calculate and Summarize Suitable Area by EEZ",
    "text": "Calculate and Summarize Suitable Area by EEZ\nWe sum all suitable raster cells within each EEZ and join these results to the EEZ polygons.\n\n# Add up suitable area within each EEZ zone\noyster_area_eez &lt;- zonal(oyster_area, eez_id_raster,\n                         fun = \"sum\",\n                         na.rm = TRUE) %&gt;% \n  as.data.frame()\n\n# Join with EEZ polygons for mapping purposes\neez_oyster_join &lt;- eez %&gt;% \n  left_join(oyster_area_eez, by = \"eez_id\")\n\n# Create table of suitable area ranked by EEZ\neez_oyster_join %&gt;% \n  st_drop_geometry() %&gt;% \n  arrange(desc(suitable_area_km2)) %&gt;% \n  kable(\"html\", \n        caption = \"Suitable Oyster Habitat Area by EEZ (km^2)\",\n        align = \"c\") %&gt;% \n  kable_styling(full_width = FALSE, \n                bootstrap_options = c(\"striped\", \"hover\"))\n\n\nSuitable Oyster Habitat Area by EEZ (km^2)\n\n\nrgn\nrgn_key\narea_m2\neez_id\narea_km2\nsuitable_area_km2\n\n\n\n\nCentral California\nCA-C\n202738329147\n3\n202738.33\n4940.0422\n\n\nSouthern California\nCA-S\n206860777840\n4\n206860.78\n4221.3919\n\n\nWashington\nWA\n66898309678\n5\n66898.31\n3313.1592\n\n\nOregon\nOR\n179994061293\n1\n179994.06\n1578.9688\n\n\nNorthern California\nCA-N\n164378809215\n2\n164378.81\n454.2957"
  },
  {
    "objectID": "posts/marine-aquaculture-selection/index.html#map-oyster-aquaculture-suitability",
    "href": "posts/marine-aquaculture-selection/index.html#map-oyster-aquaculture-suitability",
    "title": "Marine Aquaculture Suitability Analysis",
    "section": "Map Oyster Aquaculture Suitability",
    "text": "Map Oyster Aquaculture Suitability\nA map is generated showing the relative availability of suitable habitat across EEZs, providing spatial insights for marine planning.\n\n# Make sure to initialize \"plot\" mode for static render\ntmap_mode(\"plot\")\n\n# Extract paleteer colors\nteal_palette &lt;- as.character(paletteer_d(\"ggsci::teal_material\"))\neez_map &lt;- eez_oyster_join[!is.na(eez_oyster_join$suitable_area_km2), ]\n\n# Map suitable area by EEZ\ntm_tiles(\"Esri.OceanBasemap\") +\ntm_shape(eez_map) + \n  tm_polygons(\n    col = \"suitable_area_km2\",\n    palette = colorRampPalette(teal_palette)(5),\n    title = \"Suitable Area (km^2)\",\n    showNA = FALSE) +\n  tm_layout(main.title = \"Oyster Aquaculture Suitability by EEZ\",\n            main.title.size = 1, \n            frame = FALSE,\n            legend.outside = TRUE,\n            legend.outside.position = \"right\",\n            outer.margins = c(0, 0, 0, 0),\n            inner.margins = c(0, 0, 0, 0.02)) +\n  tm_compass(position = c(\"right\", \"top\")) +\n  tm_scalebar(breaks = c(0, 100, 200, 300),\n              position = c(\"left\", \"bottom\"))"
  },
  {
    "objectID": "posts/marine-aquaculture-selection/index.html#reflection---oyster-aquaculture-suitability",
    "href": "posts/marine-aquaculture-selection/index.html#reflection---oyster-aquaculture-suitability",
    "title": "Marine Aquaculture Suitability Analysis",
    "section": "Reflection - Oyster Aquaculture Suitability",
    "text": "Reflection - Oyster Aquaculture Suitability\nThe oyster aquaculture sustainability analysis demonstrates how combining raster-based environmental data with vector-based EEZ boundaries can show spatial patterns relevant to marine resource planning. By averaging five years of SST data and re-sampling bathymetry, I was able to evaluate habitat suitability with thresholds from the literature. The reclassification and raster algebra workflow made it clear how sensitive spatial outputs are. It needs multiple checking and reassigning to make sure everything can be processed normally. The warmer southern regions has larger areas of meeting oyster depth and temperature requirements than northern parts."
  },
  {
    "objectID": "posts/marine-aquaculture-selection/index.html#apply-workflow-function",
    "href": "posts/marine-aquaculture-selection/index.html#apply-workflow-function",
    "title": "Marine Aquaculture Suitability Analysis",
    "section": "Apply Workflow Function",
    "text": "Apply Workflow Function\nTo show generalizability, the suitability workflow is applied to another species with different environmental thresholds.\n\n# General Function to calculate aquaculture suitability\n\ncompute_suitability &lt;- function(sst_min, sst_max,\n                                depth_min, depth_max,\n                                species_name) {\n  \n# 1. Reclassify SST\nsst_suitable &lt;- lapp(sst_mean_celsius,\n                     fun = function(x) \n                       ifelse(x &gt;= sst_min & x &lt;= sst_max, 1, 0))\n\n# 2. Reclassify Depth\ndepth_suitable &lt;- lapp(depth_resample,\n                       fun = function(x) \n                         ifelse(x &gt;= depth_min & x &lt;= depth_max, 1, 0))\n\n# 3. Combine Suitability\nsuitable_cells &lt;- sst_suitable * depth_suitable\n\n# 4. Crop and Mask to EEZ\nsuitable_crop &lt;- crop(suitable_cells, eez_vector)\nsuitable_eez &lt;- mask(suitable_crop, eez_vector)\n\n# 5. Convert Suitability to Area in km^2\ncell_area &lt;- cellSize(suitable_eez, unit = \"km\")\nsuitable_area &lt;- suitable_eez * cell_area\nnames(suitable_area) &lt;- \"suitable_area_km2\"\n\n# 6. Rasterize EEZ and Compute Zonal Area\neez_id_raster &lt;- rasterize(eez_vector, suitable_area, field = \"eez_id\")\n\nzone_df &lt;- zonal(suitable_area, eez_id_raster,\n                 fun = \"sum\", na.rm = TRUE) %&gt;% \n  as.data.frame()\n\n# 7. Join results\neez_join &lt;- eez %&gt;% \n  left_join(zone_df, by = \"eez_id\")\n\n# 8. Map\nteal_palette &lt;- as.character(paletteer_d(\"ggsci::teal_material\"))\n\nmap &lt;- tm_tiles(\"Esri.OceanBasemap\") +\n  tm_shape(eez_join) +\n    tm_polygons(col = \"suitable_area_km2\",\n                palette = colorRampPalette(teal_palette)(20),\n                title = \"Suitable Area (km²)\") +\n    tm_layout(main.title = paste(\"Aquaculture Suitability for\",\n                                 species_name),\n              main.title.size = 1.0,\n              legend.outside = TRUE,\n              frame = FALSE) +\n    tm_compass(position = c(\"right\", \"top\")) +\n    tm_scalebar(breaks = c(0, 100, 200, 300),\n                position = c(\"left\", \"bottom\"))\nreturn(map)}"
  },
  {
    "objectID": "posts/marine-aquaculture-selection/index.html#map-mussel-aquaculture-suitability",
    "href": "posts/marine-aquaculture-selection/index.html#map-mussel-aquaculture-suitability",
    "title": "Marine Aquaculture Suitability Analysis",
    "section": "Map Mussel Aquaculture Suitability",
    "text": "Map Mussel Aquaculture Suitability\nA map is generated showing the relative availability of suitable habitat across EEZs, providing spatial insights for marine planning.\n\n# SST 9 to 18 degrees Celsius, depth 0 to 20 meters\nmussle_map &lt;- compute_suitability(\n  sst_min = 9,\n  sst_max = 18,\n  depth_min = -20,\n  depth_max = 0,\n  species_name = \"Mussels (A. californiensis)\")\n\nmussle_map"
  },
  {
    "objectID": "posts/marine-aquaculture-selection/index.html#reflection---mussel-aquaculture-suitability",
    "href": "posts/marine-aquaculture-selection/index.html#reflection---mussel-aquaculture-suitability",
    "title": "Marine Aquaculture Suitability Analysis",
    "section": "Reflection - Mussel Aquaculture Suitability",
    "text": "Reflection - Mussel Aquaculture Suitability\nThe mussel suitability assessment shows different spatial patterns compare to oysters, emphasizing how species-specific environmental requirements could lead to different aquaculture potential across EEZs. Mussels favor cooler temperature and shallow depths and shows that more suitable northward than southern regions - sustainability is highest in Northern California and Washington."
  },
  {
    "objectID": "posts/marine-aquaculture-selection/index.html#conclusion",
    "href": "posts/marine-aquaculture-selection/index.html#conclusion",
    "title": "Marine Aquaculture Suitability Analysis",
    "section": "Conclusion",
    "text": "Conclusion\nThis analysis demonstrates how we use spatial data science to evaluate the sustainability of aquaculture across large marine regions. By combining sea surface temperature data, bathymetry, raster reclassification, and Zonal statistics, we can identify locations that hit all the requirements for the environmental conditions specific to the aquaculture species. The results show that oysters prefer the warm southern waters, whereas mussels are better suited to the cooler northern regions of EEZs. The findings could improve productivity and reduce ecological risks."
  },
  {
    "objectID": "posts/marine-aquaculture-selection/index.html#future-directions",
    "href": "posts/marine-aquaculture-selection/index.html#future-directions",
    "title": "Marine Aquaculture Suitability Analysis",
    "section": "Future Directions",
    "text": "Future Directions\nThese are the limitations that we need to include in our future analysis:\nEnvironmental variables: Suitability should depend on more than sea surface temperature and depth. We may need information such as\nSocioeconomic Aspects: Not all environmentally suitable areas are socially, economically, and legally feasible for farmers."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "🌱 Turning Data Into Nourishment 🌱",
    "section": "",
    "text": "My name is Jay Kim (she/her), a researcher passionate about food systems with a background in Psychology and East Asian studies from UC Irvine. From managing my family’s business during pandemic supply chain disruptions to supporting seniors in my community, I found a deep commitment to using data for community impact. I’ve applied analytics to reduce waste, improve efficiency, and explore climate justice research, and I’m committed to building equitable, sustainable food systems where everyone has access to what they need."
  },
  {
    "objectID": "posts.html",
    "href": "posts.html",
    "title": "Blog",
    "section": "",
    "text": "How Crop Type and Climate Zone Influence Agricultural Water Use in California\n\n\n\nMEDS\n\nR\n\n\n\n\n\n\n\nJay Kim\n\n\nDec 11, 2025\n\n\n\n\n\n\n\n\n\n\n\n\n\nMarine Aquaculture Suitability Analysis\n\n\n\nMEDS\n\nR\n\n\n\n\n\n\n\nJay Kim\n\n\nDec 6, 2025\n\n\n\n\n\n\n\n\n\n\n\n\n\nBiodiversity Intactness Index Change in the Phoenix Subdivision (2017–2020)\n\n\n\nMEDS\n\nPython\n\n\n\n\n\n\n\nJay Kim\n\n\nDec 6, 2025\n\n\n\n\n\n\n\n\n\n\n\n\n\nEaton and Palisades Fires: A Satellite & Social Vulnerability Analysis\n\n\n\nMEDS\n\nPython\n\n\n\n\n\n\n\nJay Kim\n\n\nDec 3, 2025\n\n\n\n\n\n\nNo matching items"
  }
]